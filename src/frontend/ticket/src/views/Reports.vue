<template>
  <div class="reports">
    <div class="page-header">
      <h2>å ±è¡¨åˆ†æ</h2>
    </div>

    <el-row :gutter="20">
      <el-col :span="12">
        <el-card>
          <template #header>
            <span>å·¥å–®ç‹€æ…‹çµ±è¨ˆ</span>
          </template>
          <div class="chart-container">
            <div class="chart-placeholder">
              ğŸ“Š åœ–è¡¨å€åŸŸ (å¾…æ•´åˆ ECharts)
            </div>
          </div>
        </el-card>
      </el-col>
      <el-col :span="12">
        <el-card>
          <template #header>
            <span>å·¥å–®é¡å‹åˆ†å¸ƒ</span>
          </template>
          <div class="chart-container">
            <div class="chart-placeholder">
              ğŸ“ˆ åœ–è¡¨å€åŸŸ (å¾…æ•´åˆ ECharts)
            </div>
          </div>
        </el-card>
      </el-col>
    </el-row>

    <el-row :gutter="20" style="margin-top: 20px;">
      <el-col :span="24">
        <el-card>
          <template #header>
            <span>å·¥å–®è™•ç†è¶¨å‹¢</span>
          </template>
          <div class="chart-container" style="height: 300px;">
            <div class="chart-placeholder">
              ğŸ“‰ è¶¨å‹¢åœ–è¡¨å€åŸŸ (å¾…æ•´åˆ ECharts)
            </div>
          </div>
        </el-card>
      </el-col>
    </el-row>

    <el-row :gutter="20" style="margin-top: 20px;">
      <el-col :span="24">
        <el-card>
          <template #header>
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <span>è©³ç´°å ±è¡¨</span>
              <el-button type="primary" @click="exportReport">
                <el-icon><Download /></el-icon>
                å°å‡ºå ±è¡¨
              </el-button>
            </div>
          </template>
          <el-table :data="reportData" style="width: 100%">
            <el-table-column prop="date" label="æ—¥æœŸ" width="120" />
            <el-table-column prop="total" label="ç¸½å·¥å–®æ•¸" width="100" />
            <el-table-column prop="created" label="æ–°å»º" width="80" />
            <el-table-column prop="pending" label="å¾…å¯©æ ¸" width="80" />
            <el-table-column prop="in_progress" label="é€²è¡Œä¸­" width="80" />
            <el-table-column prop="completed" label="å·²å®Œæˆ" width="80" />
            <el-table-column prop="rejected" label="å·²æ‹’çµ•" width="80" />
            <el-table-column prop="completion_rate" label="å®Œæˆç‡" width="100">
              <template #default="scope">
                {{ scope.row.completion_rate }}%
              </template>
            </el-table-column>
            <el-table-column prop="avg_processing_time" label="å¹³å‡è™•ç†æ™‚é–“" width="120" />
          </el-table>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { ElMessage } from 'element-plus'

const reportData = ref([
  {
    date: '2025-01-26',
    total: 25,
    created: 8,
    pending: 5,
    in_progress: 7,
    completed: 12,
    rejected: 1,
    completion_rate: 85.2,
    avg_processing_time: '2.3å¤©'
  },
  {
    date: '2025-01-25',
    total: 32,
    created: 12,
    pending: 3,
    in_progress: 8,
    completed: 18,
    rejected: 3,
    completion_rate: 78.9,
    avg_processing_time: '2.8å¤©'
  },
  {
    date: '2025-01-24',
    total: 28,
    created: 6,
    pending: 4,
    in_progress: 6,
    completed: 16,
    rejected: 2,
    completion_rate: 82.1,
    avg_processing_time: '2.1å¤©'
  }
])

const exportReport = () => {
  ElMessage.success('å ±è¡¨å°å‡ºåŠŸèƒ½é–‹ç™¼ä¸­...')
}

onMounted(() => {
  // è¼‰å…¥å ±è¡¨æ•¸æ“š
})
</script>

<style scoped>
.reports {
  padding: 20px;
}

.page-header {
  margin-bottom: 20px;
}

.chart-container {
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chart-placeholder {
  font-size: 24px;
  color: #999;
  text-align: center;
}
</style>